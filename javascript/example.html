<script>
  // Use strict
  "use strict"
</script>
<script>
  /* this in inner function */
  // Case 1
  var name = "clever coder";
  var person = {
    name : "foocoder",
    hello : function(sth){
      console.log(this.name + " says " + sth);
    }
  }
  person.hello("hello world"); //foocoder says hello world

  // Case 2
  var name = "clever coder";
  var person = {
    name : "foocoder",
    hello : function(sth){
      var sayhello = function(sth) {
        console.log(this.name + " says " + sth);
      };
      sayhello(sth);
    }
  }

  person.hello("hello world");//clever coder says hello world
  
  // Case 3
  var name = "clever coder";
  var person = {
    name : "foocoder",
    hello : function(sth){
      var that = this;
      var sayhello = function(sth) {
        console.log(that.name + " says " + sth);
      };
      sayhello(sth);
    }
  }
  person.hello("hello world");//foocoder says hello world
  
</script>

<script>
  /* bind */
  var x = 9; 
  var module = {
    x: 81,
    getX: function() { return this.x; }
  };

  console.log(module.getX()); // 81

  var getX = module.getX;
  console.log(getX()); // 9, because in this case, "this" refers to the global object

  // create a new function with 'this' bound to module
  var boundGetX = getX.bind(module);
  console.log(boundGetX()); // 81  

</script>

<script>
  // Define object: hybrid of constructor and prototype
  function Car(color) {
    this.color = color;
    this.drivers = new Array("Mike", "Sue");
  }

  Car.prototype.showColor = function() {
    console.log(this.color);
  }

</script>

<script>
  // Inherit
  function A(sColor) {
    this.color = sColor;
  }

  A.prototype.sayColor = function() {
    console.log(this.color);
  }

  function B(sColor, sName) {
    A.call(this, sColor);
    this.name = sName;
  }

  B.prototype = new A();
  B.prototype.sayName = function() {
    console.log(this.name);
  }

</script>

<script>
    // split JS loading and execution
    function cachejs(script_filename){
        var cache = document.createElement('object');
        cache.data = script_filename;
        cache.id = "coolshell_script_cache_id";
        cache.width = 0;
        cache.height = 0;
        document.body.appendChild(cache);
    }
 
    function loadjs(script_filename) {
        var script = document.createElement('script');
        script.setAttribute('type', 'text/javascript');
        script.setAttribute('src', script_filename);
        script.setAttribute('id', 'coolshell_script_id');
 
        script_id = document.getElementById('coolshell_script_id');
        if(script_id){
            document.getElementsByTagName('head')[0].removeChild(script_id);
        }
        document.getElementsByTagName('head')[0].appendChild(script);
    }
 
    function LoadJS(){
        var script = './alert.js';
        loadjs(script);
    }
 
</script>
 
<p style="cursor: pointer" onclick="LoadJS()">Click to load alert.js </p>

<script>
    cachejs('./alert.js');
</script>

